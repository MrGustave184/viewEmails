<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Bootstrap css -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" 
    integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <!-- Our css -->
    <link rel="stylesheet" href="style.css">
    <title>Emails View</title>
</head>
<body>
    <div class="container-fluid">

        <div class="row">
            <section class="col-12 text-center" id="top-menu">
                <h1>Top Section</h1>
            </section>
        </div>


           
        <div class="row">
            <section class="col-2 text-center" id="sidebar">
                <h3>Sidebar Menu</h3>
            </section>

            <section class="col-10" id="content">
                <div class="row">
                    <!-- Searchbar -->
                    <div class="col-6">
                        <div class="input-group mt-4">
                            <div class="input-group-btn search-panel">
                                <ul id="myUL" class="dropdown-menu col-12" role="menu">
                                    <li><a href="#">Adele</a></li>
                                    <li><a href="#">Agnes</a></li>
                                    <li><a href="#">Billy</a></li>
                                    <li><a href="#">Bob</a></li>
                                    <li><a href="#">Calvin</a></li>
                                    <li><a href="#">Christina</a></li>
                                    <li><a href="#">Cindy</a></li>
                                    <li><a href="#">George</a></li>
                                </ul>
                            </div>
                            
                            <input type="search" class="form-control search-radius" onkeyup="myFunction()" name="search-template" placeholder="Search or select template " id="search-box">
                            <span class="divider-border"></span>
                            <button type="button" class="btn btn-default dropdown-toggle" id="search-box-btn" data-toggle="dropdown" onclick="light_input()">
                                <span class="caret"></span>
                            </button>
                    
                          </div>
                    </div>
                    <!-- /Searchbar -->
                
                  </div>
               

                <div class="piechart " id="square1">
                    <div data-chart="2" data-position="top" class="chart-section chart-top">
                        Chart 2 - Section 1
                    </div>
                    <div class="chartLine"></div>
                    <div class="chart-section chart-bottom">
                        Chart 2 - Section 2
                    </div>
                </div>
                <div class="piechart " id="square2">
                    <div data-chart="1" class="chart-section chart-top">
                        Chart 1 - Section 1
                    </div>
                    <div class="chartLine"></div>
                    <div class="chart-section chart-bottom">
                        Chart 1 - Section 2
                    </div>
                </div>

            </section>
        </div>

        <section id="table">
            Participants table
        </section>
    </div>


<!-- Bootstrap and jQuery -->
<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
<!--Test function for li-->
<!--<script>
                                        
    let selectUL = document.getElementById('myUL');
    let array = ['Lorem ipsum dolor sit, amet consectetur adipisicing elit.','Unde eos at non possimus culpa eius, doloremque, dolorem repudiandae ea illum porro,','sunt vel molestiae accusantium facilis. Necessitatibus nemo','bc','bf','ck','lp','th','et']
    for(var i = 0; i < 1000; i++){
        var item = array[Math.floor(Math.random() * array.length)];
        $('#myUL').append("<li><a href='#'>"+"Lorem ipsum dolor sit, amet consectetur adipisicing elit. Unde eos at non possimus culpa eius, doloremque, dolorem repudiandae ea illum porro, sunt vel molestiae accusantium facilis."+item+i+"</a></li>");
    }

</script>-->
<script>
    function myFunction() {
      // Declare variables
      let input, filter, ul, li, a, i, txtValue;
      input = document.getElementById('search-box');
      filter = input.value.toUpperCase();
      ul = document.getElementById("myUL");
      li = ul.getElementsByTagName('li');
    
      // Loop through all list items, and hide those who don't match the search query
      for (i = 0; i < li.length; i++) {
        a = li[i].getElementsByTagName("a")[0];
        txtValue = a.textContent || a.innerText;
        if (txtValue.toUpperCase().indexOf(filter) > -1) {
          li[i].style.display = "";
        } else {
          li[i].style.display = "none";
        }
      }
    }
</script>

<script>
    $('#search-box').on('input', function() {
        $('#myUL').css('display', $(this).val()  !== '' ? 'block' : 'none')
    });
</script>

<script>
        $('#search-box-btn').click(function () { // on a click on botton
            //$('#myUL').show(); // show the div with the search results
            $('#myUL').css({
                'margin-left' : -$('#search-box').outerWidth( true )
            }).show();
        })

        $("li").on("click", function(){
            $("#search-box").val($(this).text());
            $('#myUL').hide();
            // myFunction(); You can put this here if you want to search right after a user clicked
        });
</script>

<script>
    $(".chart-section").on('click', function() {
        let pieChart = $(this);
        let table = $("#table");
        let chartBackground = pieChart.css('background-color');
        let chartText = pieChart.html();

        $("#square2").css('transform', 'translate(590px, -26px)');
        $("#square1").css('transform', 'translate(340px, -200px)');

        table.css('background-color', chartBackground).css('transform', 'translate(0px, -458px)').html('Participants Table' + '<br>' + chartText);
    });
</script>
    
<script>
  
    var contentBg = document.getElementById('content');
    var table = document.getElementById('table');
    var square1 = document.getElementById('square1');
    var square2 = document.getElementById('square2');
    var ul = document.getElementById("myUL");
    document.onclick = function(e){
        if(e.target.id == 'content'){
            table.style.transform = 'translate(0px, 0px)';
            square1.style.transform = 'translate(0px, 0px)';
            square2.style.transform = 'translate(0px, 0px)';
            ul.style.display = 'none';
        }
        
    }
  
</script>

<script>
    function light_input(){
        var search = document.getElementById('search-box');
        var button = document.getElementById('search-box-btn');
       
    }
</script>

</body>
</html>